
{%extends 'base.html' %}
{%load static%}
{%block sidebar %}
    {%include 'side.html' %}
{%endblock %}

{%block content%}

<!--content area start-->
<section class="component-section" id="employee">
    <div class="d-flex align-items-center pb-3">
        <div>
            <!-- Title -->
            <h1>Student</h1>
            <!-- End Title -->
            <!--breadcrum start-->
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb pmd-breadcrumb mb-0">
                    <li class="breadcrumb-item">
                        <a href="dashboard.html">Dashboard</a>
                    </li>
                    <li class="breadcrumb-item active" aria-current="page">Student</li>
                </ol>
            </nav>
            <!--breadcrum end-->
        </div>

        <!-- Right Buttons -->
        <div class="ml-auto d-flex">
            <ul class="nav nav-tabs border-0">
                <li class="nav-item mr-2">
                    <a title="Grid View" class="btn pmd-btn-fab pmd-ripple-effect nav-link btn-sm btn-outline-dark" href="#gridView" aria-controls="gridView" role="tab" data-toggle="tab" aria-selected="false">
                        <i class="material-icons">apps</i>
                    </a>
                </li>
                <li class="nav-item">
                    <a title="List View" class="btn btn-outline-dark pmd-btn-fab pmd-ripple-effect nav-link btn-sm active show" href="#listView" aria-controls="listView" role="tab" data-toggle="tab" aria-selected="true">
                        <i class="material-icons">format_list_bulleted</i>
                    </a>
                </li>
            </ul>
        </div>
        <!-- Right Buttons End -->
    </div>
        <div class="card pmd-card">
            <div class="search-bar card-body">
                <div class="row d-flex align-items-center">
                    <div class="col">
<!-- Form Component -->
                        <div class="d-md-block d-none">
                            <form class="search-form" style="margin-top: -10px;" method="post">
                                {%csrf_token%}
                                <div class="form-row">
<!-- year-->
                                    <div class="form-group pmd-textfield pmd-textfield-floating-label col-md-3 mb-0">
                                            <label style="size: 3px">Year</label>
                                            <select name="go_year" name="go_year" class="form-control" >
                                                <option></option>
                                                {%for year in YEARS%}
                                                <option value="{{year}}">{{year}}</option>
                                                {%endfor%}

                                            </select>

                                    </div>


<!-- semster-->
                                    <div class="form-group pmd-textfield pmd-textfield-floating-label col-md-3 mb-0">
                                        <label>Semester</label>
                                        <select name="go_semester" id="go_semester" class="form-control">
                                            <option></option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                            <option value="6">6</option>
                                            <option value="7">7</option>
                                            <option value="8">8</option>
                                        </select><span class="pmd-textfield-focused"></span>
                                    </div>

                                    <div class="col-md-1 col-lg-2 mt-4">
                                        <button class="btn btn-primary pmd-ripple-effect pmd-btn-raised" id="search">Go</button>
                                    </div>
                                </div>
                            </form>

                            <h3 class="card-title advanced-search-title mb-0">Advanced Search</h3>
                        </div>
<!-- Form Component End -->

                    </div>
                    <!-- Right Menu -->
                    <div class="col-auto d-none d-md-flex justify-content-end">
                        <ul class="nav border-0">
                            <li class="nav-item mr-2">
                                <a title="Advance Search" class="btn pmd-btn-fab btn-outline-dark nav-link btn-sm" data-toggle="collapse" href="#advanceSearch" role="button" aria-expanded="false" aria-controls="advanceSearch" id="advanced-search-toggler">
                                    <i class="pmd-icon-circle pmd-icon-sm">
                                        <svg viewBox="0 0 24 24">
                                            <g><g>
                                                <path d="M9.072,21.162v-9.81L2.214,3.41C1.847,2.961,1.889,2.037,2.837,2.037h18.292
                                                        c0.892,0,1.098,0.816,0.624,1.373l-6.693,7.732v6.069c0,0.248-0.083,0.458-0.293,0.624l-4.28,3.95
                                                        C9.992,22.151,9.072,21.954,9.072,21.162z M4.668,3.703l5.864,6.775c0.124,0.165,0.207,0.334,0.207,0.54v8.272l2.659-2.412v-6.024
                                                        c0-0.207,0.083-0.375,0.206-0.541l5.694-6.61H4.668L4.668,3.703z"></path>
                                            </g></g>
                                        </svg>
                                    </i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <div class="dropdown pmd-dropdown">
                                    <a href="javascript:void(0);" role="button" class="pmd-btn-fab btn-outline-dark btn btn-sm" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="Sort">
                                        <i class="material-icons">sort</i>
                                    </a>
                                    <a href="{%url 'college:export_student_data_pdf' %}"  class="pmd-btn-fab btn-outline-dark btn btn-sm"  title="Download">
                                        <i class="material-icons">download</i>
                                    </a>
                                    <div tabindex="-1" role="menu" aria-hidden="false" class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuLink" style="clip: rect(0px, 160px, 0px, 160px); transform: translate3d(-120px, 0px, 0px);">
                                        <h6 class="dropdown-header">Sort By</h6>
                                        <div class="dropdown-divider"></div>
                                        <a href="javascript:void(0);" title="Name" class="dropdown-item">Name</a>
                                        <a href="javascript:void(0);" title="Sector" class="dropdown-item">Semester</a>
                                        <a href="javascript:void(0);" title="Training Status" class="dropdown-item">Year</a>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
<!-- Advance Search Form -->
                <form method="post">
                    {%csrf_token%}
                <div class="collapse" id="advanceSearch">
                    <div class="row mt-2">
<!--roll No-->
                        <div class="col-12 col-md-4">
                            <div class="form-group pmd-textfield pmd-textfield-floating-label">
                                <label for="employee_ID">University roll no</label>
                                <input type="text" class="form-control" name="university_roll"><span class="pmd-textfield-focused"></span>
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-12">
                            <button  title="Apply Filter" class="btn-primary btn pmd-btn-raised pmd-ripple-effect" id="apply-filter">Apply Filter</button>
                        </div>
                    </div>
                </div>
             </form>
<!-- Advance Search End -->


            </div>
        </div>

        <div class="tab-content">
            <!-- Grid View -->
            <div role="tabpanel" class="tab-pane" id="gridView">
                <div class="row">
                    {%for person in user%}
                    <div class="col-md-6 col-xl-4 col-12">
                        <!-- Card Component -->
                        <div class="card pmd-card user-info-card">
                            <!-- Card Header -->
                            <div class="card-header pmd-card-border d-flex flex-row align-items-center">
                                <a  href="javascript:void(0);">
                                    <img src="{{person.photo.url}}" width="60" height="60" alt="Profile Picture" class="rounded-circle">
                                </a>

                                <div class="media-body">
                                    <h3 class="card-title pl-3">{{person.first_name}} {{person.last_name}}</h3>
                                    <p class="card-subtitle pl-3">{{person.department}}</p>
                                </div>
                                <div class="dropdown pmd-dropdown pmd-user-info ml-auto">
                                    <a href="javascript:void(0);" class="pmd-btn-fab btn-dark pmd-btn-flat btn btn-sm" data-toggle="dropdown" aria-expanded="true"><i class="material-icons pmd-icon-sm">more_vert</i></a>
                                    <div class="dropdown-menu dropdown-menu-right" style="clip: rect(0px, 117.484px, 0px, 117.484px); transform: translate3d(-77.484px, 0px, 0px);">
                                        <a class="dropdown-item d-flex flex-row align-items-center" href="employee-detail.html"><i class="material-icons md-dark pmd-icon-sm mr-3">edit</i><span class="media-body">Edit</span></a>
                                        <a href="javascript:void(0);" title="Delete" class="dropdown-item d-flex flex-row align-items-center" data-toggle="modal" data-target="#delete_employee_modal"><i class="material-icons md-dark pmd-icon-sm mr-3">delete</i><span class="media-body">Delete</span></a>
                                    </div>
                                </div>
                            </div>

                            <!-- List Group Component -->
                            <ul class="list-group pmd-list">
                                <li class="list-group-item d-flex flex-row">
                                    <i class="material-icons pmd-list-icon align-self-center pmd-md md-dark">person_outline</i>
                                    <div class="media-body">
                                        <label class="pmd-list-subtitle">Uinversity Roll no</label>
                                        <p class="pmd-list-title">{{person.university_roll}}</p>
                                    </div>
                                </li>
                                <li class="list-group-item d-flex flex-row">
                                    <i class="material-icons pmd-list-icon align-self-center pmd-md md-dark">call</i>
                                    <div class="media-body">
                                        <label class="pmd-list-subtitle mb-0">Phone No.</label>
                                        <p class="pmd-list-title">+91 {{person.phone}}</p>
                                    </div>
                                </li>
                                <li class="list-group-item d-flex flex-row">
                                    <i class="material-icons pmd-list-icon align-self-center pmd-md md-dark">mail_outline</i>
                                    <div class="media-body">
                                        <label class="pmd-list-subtitle">Email Address</label>
                                        <p class="pmd-list-title"><a href="mailto:{{persion.email}}">{{person.email}}</a></p>
                                    </div>
                                </li>
                                <li class="list-group-item d-flex flex-row">
                                    <i class="material-icons pmd-list-icon align-self-center pmd-md md-dark">people_outline</i>
                                    <div class="media-body">
                                        <label class="pmd-list-subtitle">Department</label>
                                        {% if user.person.department == 1 %}
                                            <p class="pmd-list-title">Computer Science and Engineering</p>
                                        {%else%}
                                        <p class="pmd-list-title">{{person.department}}</p>
                                        {%endif%}
                                    </div>
                                </li>
                                <li class="list-group-item d-flex flex-row">
                                    <i class="material-icons pmd-list-icon align-self-center pmd-md md-dark">today</i>
                                    <div class="media-body">
                                        <label class="pmd-list-subtitle">Registration year</label>
                                        <p class="pmd-list-title">{{person.year}}</p>
                                    </div>
                                </li>
                            </ul><!-- List Group Component End -->

                            <!-- Card Footer -->
                            <div class="card-footer pmd-card-border">
                                <a title="View More" href="{%url 'college:profile' person.id %}" class="btn pmd-btn-flat pmd-ripple-effect btn-primary">View More</a>
                            </div>
                        </div>
                        <!-- Card Component End -->
                    </div>
                    {%endfor%}
                    <div class="col-12 text-center">
                        <button class="btn btn-secondary pmd-ripple-effect">Load More</button>
                    </div>
                </div>
            </div>
            <!-- Grid View End -->

            <!-- List View Start -->
            <div role="tabpanel" class="tab-pane active show" id="listView">
                <div class="card pmd-card">
                    <!-- Table -->
                    <div id="example_wrapper" class="dataTables_wrapper container-fluid dt-bootstrap4 no-footer"><div class="card-header d-flex flex-row"><div class="data-table-title-responsive"><h2 class="card-title">Table Responsive</h2></div><div class="search-paper pmd-textfield ml-auto"><div id="example_filter" class="dataTables_filter"><label><input type="search" class="form-control form-control-sm" placeholder="Search" aria-controls="example"><span class="pmd-textfield-focused"></span></label></div></div></div><div class="row"><div class="col-sm-12"><table id="example" class="table pmd-table table-hover display dt-responsive nowrap dataTable no-footer dtr-column collapsed" cellspacing="0" width="100%" role="grid" aria-describedby="example_info" style="width: 100%;">
                        <thead class="thead-light">
                            <tr role="row">
                                <th class="sorting" tabindex="0" aria-controls="example" rowspan="1" colspan="1" style="width: 216px;" aria-label="Name: activate to sort column ascending">Name</th>

                                <th class="control sorting_asc" rowspan="1" colspan="1" style="width: 180px;" aria-label="Designation">Roll No</th>
                                <th class="sorting" tabindex="0" aria-controls="example" rowspan="1" colspan="1" style="width: 56px;" aria-label="ID: activate to sort column ascending">year</th>
                                <th class="sorting" tabindex="0" aria-controls="example" rowspan="1" colspan="1" style="width: 56px;" aria-label="ID: activate to sort column ascending">Semester</th>
                                <th class="sorting" tabindex="0" aria-controls="example" rowspan="1" colspan="1" style="width: 128px;" aria-label="Email Address: activate to sort column ascending">Email Address</th>
                                <th class="sorting" tabindex="0" aria-controls="example" rowspan="1" colspan="1" style="width: 110px;" aria-label="Department: activate to sort column ascending">Department</th>
                                <th class="sorting" tabindex="0" aria-controls="example" rowspan="1" colspan="1" style="width: 0px; display: block; " aria-label="Actions: activate to sort column ascending">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                        {%for person in user%}
                        <tr role="row"  >
                                <td data-title="Name" style="">
                                    <div class="d-flex align-items-center">
                                        <img src="{{person.photo.url}}" alt="Profile Picture" class="rounded-circle mr-3" width="60" height="60">
                                            <div class="media-body">
                                                {{person.first_name}} {{person.last_name}}
                                        </div>
                                    </div>
                                </td>

                            <td data-title="ID" style="">{{person.university_roll}}</td>
                                <td data-title="ID" style="">{{person.year}}</td>
                            <td data-title="Department"  style="">{{person.semester}}</td>
                                <td data-title="Email Address"
                                ><a href="mailto:{{person.email}}">{{person.email}}</a></td>
                                <td  style=" white-space: -o-pre-wrap;
                                             word-wrap: break-word;
                                             white-space: pre-wrap;
                                             white-space: -moz-pre-wrap;
                                             white-space: -pre-wrap; ">
                                    {{person.department}}
                                </td>
                                <td data-title="" style="display: block;">
                                    <a href="{%url 'college:profile' person.id %}" class="btn pmd-btn-fab pmd-btn-flat btn-primary pmd-ripple-effect btn-sm mr-2"><i class="material-icons pmd-sm">visibility</i></a>
                                    <a href="#" class="btn pmd-btn-fab pmd-btn-flat btn-dark pmd-ripple-effect btn-sm mr-2"><i class="material-icons pmd-sm">edit</i></a>
                                    <a href="{%url 'college:export_pdf' person.email %}" class="btn pmd-btn-fab pmd-btn-flat btn-dark pmd-ripple-effect btn-sm mr-2"><i class="material-icons pmd-sm">download</i></a>
<!--                                    <a href="javascript:void(0);" title="Delete" class="btn pmd-btn-fab pmd-btn-flat btn-danger pmd-ripple-effect btn-sm" data-toggle="modal" data-target="#delete_employee_modal"><i class="material-icons pmd-sm">delete_outline</i></a>-->
                                </td>

                            </tr>
                        {%endfor%}

                        </tbody>
                    </table></div></div><div class="card-footer"><div class="pmd-datatable-pagination"><div class="dataTables_length" id="example_length"><label><span class="custom-select-title">Rows per page:</span> <span class="pmd-custom-select"> <select name="example_length" aria-controls="example" class="form-control form-control-sm"><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option></select> </span></label></div><div class="dataTables_info" id="example_info" role="status" aria-live="polite"> 1 - 10 of 10 </div><div class="dataTables_paginate paging_simple" id="example_paginate"><ul class="pagination"><li class="paginate_button page-item previous disabled" id="example_previous"><a href="#" aria-controls="example" data-dt-idx="0" tabindex="0" class="page-link"> </a></li><li class="paginate_button page-item next disabled" id="example_next"><a href="#" aria-controls="example" data-dt-idx="1" tabindex="0" class="page-link"> </a></li></ul></div></div></div></div>
                </div>
            </div>
            <!-- List View End -->
        </div>
    </section>
<!-- content area end -->
{%endblock%}